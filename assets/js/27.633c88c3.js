(window.webpackJsonp=window.webpackJsonp||[]).push([[27],{429:function(e,v,_){"use strict";_.r(v);var t=_(56),s=Object(t.a)({},(function(){var e=this,v=e.$createElement,_=e._self._c||v;return _("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[_("h1",{attrs:{id:"redis-数据类型"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#redis-数据类型"}},[e._v("#")]),e._v(" Redis 数据类型")]),e._v(" "),_("ol",[_("li",[e._v("Redis属于NoSql数据库高并发 内存型")]),e._v(" "),_("li",[e._v("Redis支持五种数据类型：\n"),_("ul",[_("li",[e._v("string（字符串）")]),e._v(" "),_("li",[e._v("hash（哈希）")]),e._v(" "),_("li",[e._v("list（列表）")]),e._v(" "),_("li",[e._v("set（集合）")]),e._v(" "),_("li",[e._v("zset(sorted set：有序集合)。")])])])]),e._v(" "),_("h2",{attrs:{id:"特点"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#特点"}},[e._v("#")]),e._v(" 特点")]),e._v(" "),_("ul",[_("li",[_("p",[e._v("存储结构 - 字典类型(类似于对象数组) 但是键名(key)可以是其他数据类型")])]),e._v(" "),_("li",[_("p",[e._v("内存存储与持久化")])]),e._v(" "),_("li",[_("p",[e._v("功能丰富(缓存 队列系统)")])])]),e._v(" "),_("h2",{attrs:{id:"常用命令"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#常用命令"}},[e._v("#")]),e._v(" 常用命令")]),e._v(" "),_("p",[e._v("redis.conf redis的配置文件")]),e._v(" "),_("ol",[_("li",[_("p",[e._v("字符串\n"),_("code",[e._v("redis-server")]),e._v(" 启服务redis\n"),_("code",[e._v("redis-cli")]),e._v(" 命令行操作数据库\n"),_("code",[e._v("select [index]")]),e._v(" 可以切换数据库\n"),_("code",[e._v("keys *")]),e._v(" 获取所有key值"),_("br"),e._v(" "),_("code",[e._v("exists key")]),e._v("判断是否存在   "),_("code",[e._v("del key")]),e._v("删除   "),_("code",[e._v("type key")]),e._v(" 获取数据类型\n"),_("code",[e._v("incr key")]),e._v(" 加1 "),_("code",[e._v("incrby key num")]),e._v(" 增加指定数值 "),_("code",[e._v("incrbyfloat key num")]),e._v(" 增加小数\n"),_("code",[e._v("decr key")]),e._v(" 减1 "),_("code",[e._v("decrby key num")]),e._v(" 减指定数值 "),_("code",[e._v("decrbyfloat key num")]),e._v(" 减小小数\n"),_("code",[e._v("append key")]),e._v(" 字符串拼接\n"),_("code",[e._v("strlen key")]),e._v(" 获取key的字符串长度")])]),e._v(" "),_("li",[_("p",[e._v("散列(hash)\n"),_("code",[e._v("hset obj key value")]),e._v(" 返回1 设置成功\n"),_("code",[e._v("hgetall obj")]),e._v(" 获取所有字段\n"),_("code",[e._v("hexists obj key")]),e._v(" 判断 obj中的key存在吗\n"),_("code",[e._v("hincrby obj key value")]),e._v(" 增加多少\n"),_("code",[e._v("hdel obj key")]),e._v(" 删除key")])]),e._v(" "),_("li",[_("p",[e._v("列表类型(双向链表)\n"),_("code",[e._v("lpush key value")]),e._v(" "),_("code",[e._v("rpush key value")]),e._v(" 左右添加\n"),_("code",[e._v("llen key")]),e._v(" 获取长度  "),_("code",[e._v("lrange key start stop")]),e._v(" 范围获取\n"),_("code",[e._v("lpop key")]),e._v(" 删除左边第一个\n"),_("code",[e._v("lrem key count value")]),e._v(" 批量删除count个value值\n"),_("code",[e._v("lindex key index")]),e._v(" 获取指定索引的值\n"),_("code",[e._v("lset key index value")]),e._v(" 修改指定位置的值为value\n"),_("code",[e._v("ltrim key start end")]),e._v(" 保留strat-end 之间的值 其他的删除")])]),e._v(" "),_("li",[_("p",[e._v("集合类型(set) 没有顺序 每个元素都是唯一的\n"),_("code",[e._v("sadd key member [...member]")]),e._v(" "),_("code",[e._v("srem key member")]),e._v(" 增加删除元素\n"),_("code",[e._v("smember key")]),e._v(" 查看集合  "),_("code",[e._v("sismember key member")]),e._v(" 判断member是否存在key中 返回1(存在) 0(不存在)\n"),_("code",[e._v("sdiff key1 keys")]),e._v("差值 "),_("code",[e._v("sinter key1 key2")]),e._v(" 交集 "),_("code",[e._v("sunion key1 key2")]),e._v(" 并集\n"),_("code",[e._v("sdiffstore dest key key1")]),e._v(" 差值并存储"),_("br"),e._v(" "),_("code",[e._v("sinterstore dest key key1")]),e._v(" 交集并存储"),_("br"),e._v(" "),_("code",[e._v("sunionstore dest key key1")]),e._v(" 并集并存储"),_("br"),e._v(" "),_("code",[e._v("srandmember key count")]),e._v(" 随机获取count个key中的值 count 负值 可以重复\n"),_("code",[e._v("spop key count")]),e._v(" 随机弹出")])]),e._v(" "),_("li",[_("p",[e._v("有序集合\n"),_("code",[e._v("zadd children index1 value1 index2 value2")]),e._v(" 添加有序集合\n"),_("code",[e._v("zcard children")]),e._v(" 获取有序集合的长度\n"),_("code",[e._v("zrange children min max [withscores]")])])]),e._v(" "),_("li",[_("p",[e._v("事务(multi)  watch")])])]),e._v(" "),_("ul",[_("li",[e._v("一个事务中的命令要么都执行，要么都不执行")]),e._v(" "),_("li",[e._v("WATCH命令可以监控一个或多个键，一旦其中有一个键被修改（或删除），之后的事务就不会执行 (避免竞态)")])]),e._v(" "),_("ol",{attrs:{start:"7"}},[_("li",[e._v("缓存"),_("br"),e._v(" "),_("code",[e._v("expire key time")]),e._v(" 设置过期时间"),_("br"),e._v(" "),_("code",[e._v("ttl key")]),e._v(" 查询还剩多久过期 返回 -1 永久生效  -2 key 不存在\n"),_("code",[e._v("presist key")]),e._v(" 取消过期时间永久生效(重新set 也会取消过期时间)")])]),e._v(" "),_("h2",{attrs:{id:"数据类型"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#数据类型"}},[e._v("#")]),e._v(" 数据类型")]),e._v(" "),_("h3",{attrs:{id:"字符串类型"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#字符串类型"}},[e._v("#")]),e._v(" 字符串类型")]),e._v(" "),_("h2",{attrs:{id:"api"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#api"}},[e._v("#")]),e._v(" api")]),e._v(" "),_("h2",{attrs:{id:"应用"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#应用"}},[e._v("#")]),e._v(" 应用")]),e._v(" "),_("h3",{attrs:{id:"集合类型"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#集合类型"}},[e._v("#")]),e._v(" 集合类型")]),e._v(" "),_("div",{staticClass:"language-json extra-class"},[_("pre",{pre:!0,attrs:{class:"language-json"}},[_("code",[e._v("sadd key value1 (value1 value1 value1) "),_("span",{pre:!0,attrs:{class:"token comment"}},[e._v("// 添加集合")]),e._v("\n\nSCARD key  "),_("span",{pre:!0,attrs:{class:"token comment"}},[e._v("// 获取集合的成员数 length")]),e._v("\n\nsmembers key "),_("span",{pre:!0,attrs:{class:"token comment"}},[e._v("// 返回集合中的所有成员")]),e._v("\n\nSDIFFSTORE destination key1 "),_("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("[")]),e._v("key2"),_("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("]")]),e._v("  "),_("span",{pre:!0,attrs:{class:"token comment"}},[e._v("// 返回给定所有集合的差集并存储在 destination 中")]),e._v("\n\nsrandmember key "),_("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("[")]),e._v("count"),_("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("]")]),e._v(" count 正负表示能不能重复\n\nspop key 随机删除一个元素\n\n")])])]),_("h3",{attrs:{id:"有序集合类型"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#有序集合类型"}},[e._v("#")]),e._v(" 有序集合类型")]),e._v(" "),_("div",{staticClass:"language- extra-class"},[_("pre",{pre:!0,attrs:{class:"language-text"}},[_("code",[e._v("\n")])])])])}),[],!1,null,null,null);v.default=s.exports}}]);