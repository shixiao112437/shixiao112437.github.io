<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>react 基本使用</title>
    <meta name="generator" content="VuePress 1.7.1">
    
    <meta name="description" content="">
    
    <link rel="preload" href="/assets/css/0.styles.d5b5a90f.css" as="style"><link rel="preload" href="/assets/js/app.84428c4d.js" as="script"><link rel="preload" href="/assets/js/2.87f4738b.js" as="script"><link rel="preload" href="/assets/js/17.0c9abdd2.js" as="script"><link rel="prefetch" href="/assets/js/10.464fcd58.js"><link rel="prefetch" href="/assets/js/11.400ab3ef.js"><link rel="prefetch" href="/assets/js/12.ffa97f52.js"><link rel="prefetch" href="/assets/js/13.925cc799.js"><link rel="prefetch" href="/assets/js/14.bd138afd.js"><link rel="prefetch" href="/assets/js/15.b4152441.js"><link rel="prefetch" href="/assets/js/16.fec8e5e8.js"><link rel="prefetch" href="/assets/js/18.a81e068f.js"><link rel="prefetch" href="/assets/js/19.eddd370c.js"><link rel="prefetch" href="/assets/js/20.241170d0.js"><link rel="prefetch" href="/assets/js/21.7a51343d.js"><link rel="prefetch" href="/assets/js/22.02a8ef93.js"><link rel="prefetch" href="/assets/js/23.f6bbce3f.js"><link rel="prefetch" href="/assets/js/3.0728a0af.js"><link rel="prefetch" href="/assets/js/4.72a8511c.js"><link rel="prefetch" href="/assets/js/5.764aa088.js"><link rel="prefetch" href="/assets/js/6.40dde486.js"><link rel="prefetch" href="/assets/js/7.f8c73288.js"><link rel="prefetch" href="/assets/js/8.eae9029f.js"><link rel="prefetch" href="/assets/js/9.ac30012f.js">
    <link rel="stylesheet" href="/assets/css/0.styles.d5b5a90f.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/" class="nav-link">
  首页
</a></div><div class="nav-item"><a href="/Arithmetic/index.html" class="nav-link">
  数据结构
</a></div><div class="nav-item"><a href="/Interview/call.html" class="nav-link">
  面试题相关
</a></div><div class="nav-item"><a href="/Redis/intro.html" class="nav-link">
  redis
</a></div><div class="nav-item"><a href="/Docker/intro.html" class="nav-link">
  docker镜像
</a></div><div class="nav-item"><a href="/Webpack/intro.html" class="nav-link">
  webpack
</a></div><div class="nav-item"><a href="/React/intro.html" class="nav-link">
  react基础
</a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/" class="nav-link">
  首页
</a></div><div class="nav-item"><a href="/Arithmetic/index.html" class="nav-link">
  数据结构
</a></div><div class="nav-item"><a href="/Interview/call.html" class="nav-link">
  面试题相关
</a></div><div class="nav-item"><a href="/Redis/intro.html" class="nav-link">
  redis
</a></div><div class="nav-item"><a href="/Docker/intro.html" class="nav-link">
  docker镜像
</a></div><div class="nav-item"><a href="/Webpack/intro.html" class="nav-link">
  webpack
</a></div><div class="nav-item"><a href="/React/intro.html" class="nav-link">
  react基础
</a></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>react</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/React/intro.html" class="sidebar-link">react-redux</a></li><li><a href="/React/api.html" aria-current="page" class="active sidebar-link">react 基本使用</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/React/api.html#state" class="sidebar-link">state</a></li><li class="sidebar-sub-header"><a href="/React/api.html#绑定事件" class="sidebar-link">绑定事件</a></li><li class="sidebar-sub-header"><a href="/React/api.html#react-路由传参" class="sidebar-link">react 路由传参</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/React/api.html#params传参" class="sidebar-link">params传参</a></li><li class="sidebar-sub-header"><a href="/React/api.html#query传参-会在地址栏中显示" class="sidebar-link">query传参 (会在地址栏中显示)</a></li></ul></li><li class="sidebar-sub-header"><a href="/React/api.html#state-传参-和query传参类似" class="sidebar-link">state 传参 (和query传参类似)</a></li><li class="sidebar-sub-header"><a href="/React/api.html#生命周期函数" class="sidebar-link">生命周期函数</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/React/api.html#挂载卸载过程" class="sidebar-link">挂载卸载过程</a></li><li class="sidebar-sub-header"><a href="/React/api.html#更新过程" class="sidebar-link">更新过程</a></li></ul></li><li class="sidebar-sub-header"><a href="/React/api.html#新增生命周期" class="sidebar-link">新增生命周期</a></li></ul></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="react-基本使用"><a href="#react-基本使用" class="header-anchor">#</a> react 基本使用</h1> <h2 id="state"><a href="#state" class="header-anchor">#</a> state</h2> <h2 id="绑定事件"><a href="#绑定事件" class="header-anchor">#</a> 绑定事件</h2> <h2 id="react-路由传参"><a href="#react-路由传参" class="header-anchor">#</a> react 路由传参</h2> <ol><li><h3 id="params传参"><a href="#params传参" class="header-anchor">#</a> params传参</h3></li></ol> <div class="language-jsx extra-class"><pre class="language-jsx"><code>   <span class="token comment">// 路由表的配置</span>
   <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Route</span></span> <span class="token attr-name">path</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">'</span>/sort/:id<span class="token punctuation">'</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token class-name">Route</span></span><span class="token punctuation">&gt;</span></span>

   <span class="token comment">// 使用Link</span>
   <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Link</span></span> <span class="token attr-name">to</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token string">'/sort/'</span><span class="token operator">+</span><span class="token string">'2'</span><span class="token punctuation">}</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token class-name">Link</span></span><span class="token punctuation">&gt;</span></span>
   <span class="token comment">// js跳转</span>
   <span class="token keyword">this</span><span class="token punctuation">.</span>props<span class="token punctuation">.</span>history<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token string">'/sort/'</span><span class="token operator">+</span><span class="token string">'2'</span><span class="token punctuation">)</span>

   <span class="token comment">// 接受参数</span>
   <span class="token keyword">this</span><span class="token punctuation">.</span>props<span class="token punctuation">.</span>match<span class="token punctuation">.</span>params<span class="token punctuation">.</span>id
</code></pre></div><ol start="2"><li><h3 id="query传参-会在地址栏中显示"><a href="#query传参-会在地址栏中显示" class="header-anchor">#</a> query传参 (会在地址栏中显示)</h3></li></ol> <div class="language-jsx extra-class"><pre class="language-jsx"><code>    <span class="token comment">//query传参  不需要再路由表中配置,   </span>
   <span class="token comment">//   标签跳转</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Link</span></span> <span class="token attr-name">to</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token punctuation">{</span>
        path<span class="token operator">:</span><span class="token string">'/sort'</span>
        query<span class="token operator">:</span><span class="token punctuation">{</span>
            name<span class="token operator">:</span><span class="token string">'哈哈哈'</span><span class="token punctuation">,</span> <span class="token comment">// 穿一个name为哈哈哈</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">}</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token class-name">Link</span></span><span class="token punctuation">&gt;</span></span>
   <span class="token comment">//  js跳转</span>
   <span class="token keyword">this</span><span class="token punctuation">.</span>props<span class="token punctuation">.</span>history<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
       path<span class="token operator">:</span><span class="token string">'/sort'</span><span class="token punctuation">,</span>
       query<span class="token operator">:</span><span class="token punctuation">{</span>
           name<span class="token operator">:</span><span class="token string">&quot;哈哈哈哈&quot;</span>
       <span class="token punctuation">}</span>
   <span class="token punctuation">}</span><span class="token punctuation">)</span>

     <span class="token comment">// 接受参数</span>
   <span class="token keyword">this</span><span class="token punctuation">.</span>props<span class="token punctuation">.</span>location<span class="token punctuation">.</span>query<span class="token punctuation">.</span>name
   
</code></pre></div><h2 id="state-传参-和query传参类似"><a href="#state-传参-和query传参类似" class="header-anchor">#</a> state 传参 (和query传参类似)</h2> <h2 id="生命周期函数"><a href="#生命周期函数" class="header-anchor">#</a> 生命周期函数</h2> <h3 id="挂载卸载过程"><a href="#挂载卸载过程" class="header-anchor">#</a> 挂载卸载过程</h3> <ol><li><p><code>constructor</code>
完成react 数据初始化  只要是用了constructor() 就必须写super()</p></li> <li><p>componentWillMount()
还未渲染DOM</p></li> <li><p>componentDidMount()
组件第一次渲染完成, dom节点已经生成,一般在这里发送请求</p></li> <li><p>componentWillUnmount()  类似于beforeDestory()
在此处完成组件的卸载和数据的销毁。</p> <ul><li>clear你在组建中所有的setTimeout,setInterval</li> <li>移除所有组建中的监听 removeEventListener</li></ul></li></ol> <h3 id="更新过程"><a href="#更新过程" class="header-anchor">#</a> 更新过程</h3> <ol><li><p>componentWillReceiveProps(nextProps)</p> <p>在接受父组件改变后的props需要重新渲染组件时用到的比较多</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code>        <span class="token function">componentWillReceiveProps</span> <span class="token punctuation">(</span><span class="token parameter">nextProps</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            nextProps<span class="token punctuation">.</span>openNotice <span class="token operator">!==</span> <span class="token keyword">this</span><span class="token punctuation">.</span>props<span class="token punctuation">.</span>openNotice<span class="token operator">&amp;&amp;</span><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">setState</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
                openNotice<span class="token operator">:</span>nextProps<span class="token punctuation">.</span>openNotice
            <span class="token punctuation">}</span><span class="token function">，</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
            console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token punctuation">.</span>openNotice<span class="token operator">:</span>nextProps<span class="token punctuation">)</span>
            <span class="token comment">//将state更新为nextProps,在setState的第二个参数（回调）可以打         印出新的state</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span>
        <span class="token punctuation">}</span>
</code></pre></div></li> <li><p>shouldComponentUpdate(nextProps,nextState)</p> <ul><li>主要用于性能优化(部分更新)</li> <li>因为react父组件的重新渲染会导致其所有子组件的重新渲染,子组件的该生命周期中做判断,在这里return false可以阻止组件的更新</li></ul></li> <li><p>componentWillUpdate(nextProps,nextState)</p></li> <li><p>componentDidUpdate(prevProps,prevState)</p></li> <li><p>render()
render函数会插入jsx生成的dom结构，react会生成一份虚拟dom树，在每一次组件更新时，在此react会通过其diff算法比较更新前后的新旧DOM树，比较以后，找到最小的有差异的DOM节点，并重新渲染。</p></li></ol> <h2 id="新增生命周期"><a href="#新增生命周期" class="header-anchor">#</a> 新增生命周期</h2> <ol><li><p>getDerivedStateFromProps()静态方法
getDerivedStateFromProps 中还禁止了组件去访问 this.props，强制让开发者去比较 nextProps 与 prevState 中的值，以确保当开发者用到 getDerivedStateFromProps 这个生命周期函数时，就是在根据当前的 props 来更新组件的 state，而不是去做其他一些让组件自身状态变得更加不可预测的事情。</p></li> <li><p>getSnapshotBeforeUpdate(prevProps, prevState)</p> <p>代替componentWillUpdate。
常见的 componentWillUpdate 的用例是在组件更新前，读取当前某个 DOM 元素的状态，并在 componentDidUpdate 中进行相应的处理。</p></li></ol></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/React/intro.html" class="prev">
        react-redux
      </a></span> <!----></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.84428c4d.js" defer></script><script src="/assets/js/2.87f4738b.js" defer></script><script src="/assets/js/17.0c9abdd2.js" defer></script>
  </body>
</html>
